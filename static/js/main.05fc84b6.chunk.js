(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),i=n(27),r=n.n(i),o=(n(68),n(60)),s=n(7),u=(n(40),n(22)),l=n(6),j=n(5),p=n.n(j),b=n(31),O=n(19),d=n(13),_=n.n(d),h=n(15),g=n(16),v=n.n(g),x=n(14),m=n(58),f=n.n(m),S=function(){return Object(c.jsx)("div",{className:f.a.divider})},E=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),o=Object(s.a)(r,2),u=o[0],j=o[1],b=Object(a.useState)(!1),d=Object(s.a)(b,2),g=d[0],m=d[1],f=Object(a.useState)(!1),E=Object(s.a)(f,2),C=E[0],N=E[1],T=Object(a.useContext)(x.a).setUser,y=Object(l.g)(),L=Object(a.useState)(""),k=Object(s.a)(L,2)[1],D=function(){var e=Object(h.a)(_.a.mark((function e(t){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.prev=2,e.next=5,v.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"/v1/users/sign-in"),{email:n,password:u});case 5:c=e.sent,localStorage.setItem("__TOKEN",c.data.token),m(!1),null===T||void 0===T||T(c.data),y.push("/player"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),m(!1),k(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,v.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"/v1/users/sign-in"),{email:"guest@guest.com",password:"guestguest"});case 4:t=e.sent,localStorage.setItem("__TOKEN",t.data.token),N(!1),null===T||void 0===T||T(t.data),y.push("/player"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),N(!1),k(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{onSubmit:D,style:{display:"inherit",gap:"inherit",flexDirection:"inherit"},children:[Object(c.jsx)("input",{className:p.a["spot-input"],placeholder:"Email",type:"email",onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("input",{className:p.a["spot-input"],placeholder:"Password",type:"password",onChange:function(e){return j(e.target.value)}}),Object(c.jsx)(O.a,{text:"Log In",className:p.a["login-button"],type:"submit",loading:g})]}),Object(c.jsx)(O.a,{text:"Demo User",className:p.a["demo-login-button"],type:"submit",loading:C,onClick:function(){return w()}}),Object(c.jsx)(S,{})]})},C=n(59),N=n.n(C),T=n(55),y=n.n(T),L=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),o=Object(s.a)(r,2),u=o[0],j=o[1],b=Object(a.useState)(""),d=Object(s.a)(b,2),g=d[0],m=d[1],f=Object(a.useState)(new Date),S=Object(s.a)(f,2),E=S[0],C=S[1],T=Object(a.useState)(""),L=Object(s.a)(T,2),k=L[0],D=L[1],w=Object(a.useState)(!1),P=Object(s.a)(w,2),R=P[0],A=P[1],z=Object(a.useContext)(x.a).setUser,B=Object(l.g)(),K=Object(a.useState)(""),U=Object(s.a)(K,2)[1],H=function(){var e=Object(h.a)(_.a.mark((function e(t){var c,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,A(!0),e.next=5,v.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"/v1/users/sign-up"),{name:n,email:u,password:g,birthDate:E,country:k});case 5:c=e.sent,A(!1),null===z||void 0===z||z(c.data),B.push("/player"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),A(!1),U(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{onSubmit:H,style:{display:"inherit",gap:"inherit",flexDirection:"inherit"},children:[Object(c.jsx)("input",{className:p.a["spot-input"],placeholder:"Username",onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("input",{className:p.a["spot-input"],placeholder:"Email",type:"email",onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("input",{className:p.a["spot-input"],placeholder:"Password",type:"password",onChange:function(e){return m(e.target.value)}}),Object(c.jsx)("h5",{className:p.a.subtitle,children:"Date of birth"}),Object(c.jsx)(N.a,{value:E,onChange:function(e){return C(e)},className:"datepicker"}),Object(c.jsx)("h5",{className:p.a.subtitle,children:"Country"}),Object(c.jsx)("select",{id:"countries",className:p.a["spot-input"],style:{paddingTop:"5px",paddingBottom:"5px"},onChange:function(e){return D(e.currentTarget.value)},children:y.a.getNames().map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))}),Object(c.jsx)(O.a,{text:"Sign up",loading:R})]})})},k=function(){document.title="Login - Spotify";var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(l.g)();return Object(a.useEffect)((function(){localStorage.getItem("__TOKEN")&&r.push("/player")}),[r]),n?Object(c.jsx)("div",{className:p.a["login-container"],children:Object(c.jsxs)("div",{className:p.a["login-inner-container"],children:[Object(c.jsx)(b.a,{className:p.a.logo}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(L,{}),Object(c.jsxs)("h3",{className:p.a["have-an-acc"],children:["Have an account?",Object(c.jsx)("button",{className:p.a["spot-link"],onClick:function(){return i(!1)},children:"Sign In"})]})]})]})}):Object(c.jsx)("div",{className:p.a["login-container"],children:Object(c.jsxs)("div",{className:p.a["login-inner-container"],children:[Object(c.jsx)(b.a,{className:p.a.logo}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(E,{}),Object(c.jsx)("h4",{className:p.a["dont-have-acc"],children:"Don't have an account?"}),Object(c.jsx)(O.a,{text:"Sign up for Spotify",className:p.a["signup-button"],variation:"outline",onClick:function(){return i(!n)}})]})]})})},D=n(21),w=n(28),P=n(39),R=n.n(P),A=function(e){var t=e.message;return Object(c.jsxs)("div",{className:R.a.container,children:[Object(c.jsx)(w.RotateSpinner,{color:"#1db954"}),Object(c.jsx)("h6",{className:R.a.text,children:t})]})},z=function(e){var t=e.children,n=Object(a.useContext)(x.a).setUser,i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],u=r[1],j=Object(l.g)();return Object(a.useEffect)((function(){(function(){var e=Object(h.a)(_.a.mark((function e(){var t,c,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("__TOKEN")){e.next=3;break}return e.abrupt("return",j.push("/login"));case 3:return e.prev=3,e.next=6,v.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"/v1/users/me"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return c=e.sent,null===n||void 0===n||n(Object(D.a)(Object(D.a)({},c.data),{},{token:t})),e.abrupt("return",u(!0));case 11:if(e.prev=11,e.t0=e.catch(3),401===(null===(a=e.t0.response)||void 0===a?void 0:a.status)){e.next=15;break}return e.abrupt("return",j.push("/login"));case 15:return localStorage.removeItem("__TOKEN"),null===n||void 0===n||n({}),e.abrupt("return",j.push("/login"));case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[j,n]),o?Object(c.jsx)(c.Fragment,{children:t}):Object(c.jsx)(A,{message:"Connecting to Server"})},B=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),i=t[0],r=t[1],o=Object(a.lazy)((function(){return Promise.all([n.e(6),n.e(5)]).then(n.bind(null,213))})),j=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,211))}));return Object(c.jsx)(x.a.Provider,{value:{user:i,setUser:r},children:Object(c.jsx)(u.a,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",children:Object(c.jsx)(l.a,{to:"/login"})}),Object(c.jsx)(l.b,{path:"/login",children:Object(c.jsx)(k,{})}),Object(c.jsxs)(z,{children:[Object(c.jsx)(l.b,{path:"/overview",children:Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(A,{message:"Loading Overview"}),children:Object(c.jsx)(o,{})})}),Object(c.jsx)(l.b,{path:"/player",children:Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(A,{message:"Loading Player"}),children:Object(c.jsx)(j,{})})})]})]})})})};Object(o.setConfig)({ignoreSFC:!0,pureRender:!0}),r.a.render(Object(c.jsx)(a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root"))},14:function(e,t,n){"use strict";var c=n(1),a=Object(c.createContext)({});t.a=a},19:function(e,t,n){"use strict";var c=n(2),a=n(28),i=n(26),r=n.n(i),o=function(e){var t=e.text,n=e.className,i=e.variation,o=e.onClick,s=e.type,u=e.loading;return Object(c.jsx)("button",{className:"".concat(r.a.bigbutton,"\n      ").concat("outline"===i?r.a.outline:""," \n      ").concat("fill"===i?r.a.fill:""," \n      ").concat("pop"===i?r.a.pop:""," \n      ").concat(n),onClick:o,type:s,children:u?Object(c.jsx)(a.CircleSpinner,{}):t})};o.defaultProps={className:"",variation:"fill",loading:!1},t.a=o},26:function(e,t,n){e.exports={bigbutton:"BigButton_bigbutton__xLW1z",fill:"BigButton_fill__30CDO",outline:"BigButton_outline__30ns2",pop:"BigButton_pop__2AcLP"}},31:function(e,t,n){"use strict";var c=n(21),a=n(2);t.a=function(e){return Object(a.jsx)("svg",Object(c.a)(Object(c.a)({width:"1em",height:"1em",viewBox:"0 0 131 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(a.jsx)("path",{d:"M0 19.94C0 30.925 8.905 40 19.685 40S39.37 30.925 39.37 19.94 30.465 0 19.685 0 0 8.955 0 19.94zm26.95 9.314c-4.57-2.866-10.428-3.582-17.225-2.03-1.64.239-1.874-2.15-.468-2.388 7.499-1.791 13.826-.955 18.982 2.269 1.289.835 0 2.865-1.29 2.149zm1.992-5.373c-5.273-3.344-13.358-4.299-19.568-2.389-1.992.598-2.695-2.507-.82-2.985 7.147-2.149 15.935-1.074 22.028 2.747 1.64 1.074 0 3.701-1.64 2.627zM8.436 15.403c-1.991.716-3.28-2.746-1.054-3.582 6.913-2.15 18.63-1.791 25.895 2.627 1.992 1.074.117 4.418-1.992 3.224-6.327-3.821-16.873-4.18-22.849-2.269zm44.41 10.866c-1.993 0-3.867-.717-5.508-2.388-.117 0-.117.119-.117.119l-1.875 2.269c-.117.12-.117.239 0 .358 2.11 1.91 4.687 2.866 7.5 2.866 3.983 0 6.444-2.27 6.444-5.612 0-2.866-1.758-4.418-5.859-5.493-3.398-.836-3.984-1.433-3.984-2.627 0-1.194 1.172-1.91 2.695-1.91s2.93.597 4.57 1.79c0 0 .117.12.234.12s.117-.12.117-.12l1.64-2.387c.118-.12.118-.12 0-.24-1.874-1.551-4.1-2.387-6.56-2.387-3.633 0-6.211 2.268-6.211 5.492 0 3.463 2.343 4.538 6.093 5.493 3.28.716 3.75 1.433 3.75 2.627 0 1.313-1.172 2.03-2.93 2.03zm11.13-9.194v-1.553c0-.119-.116-.238-.234-.238h-3.046c-.117 0-.234.119-.234.238v17.553c0 .119.117.238.234.238h3.046c.118 0 .235-.119.235-.238v-5.493c1.172 1.313 2.46 1.91 4.218 1.91 3.164 0 6.327-2.507 6.327-7.283s-3.163-7.164-6.327-7.164c-1.758 0-3.046.597-4.218 2.03zm3.516 9.313c-2.11 0-3.632-1.791-3.632-4.179 0-2.388 1.523-4.06 3.632-4.06 2.11 0 3.515 1.672 3.515 4.06s-1.406 4.18-3.515 4.18zm7.968-4.06c0 4.06 3.163 7.165 7.265 7.165 4.1 0 7.264-3.224 7.264-7.284s-3.046-7.164-7.147-7.164c-4.101 0-7.382 3.224-7.382 7.283zm3.515-.119c0-2.388 1.523-4.06 3.75-4.06 2.226 0 3.866 1.791 3.866 4.18 0 2.387-1.523 4.06-3.75 4.06-2.226 0-3.866-1.792-3.866-4.18zm16.404-6.925V11.82c0-.12 0-.239-.117-.239h-3.046c-.118 0-.235.12-.235.239v3.463h-1.523c-.117 0-.234.119-.234.238v2.627c0 .12.117.24.234.24h1.523v6.924c0 2.747 1.29 4.18 3.984 4.18 1.055 0 2.11-.24 2.93-.717.117 0 .117-.12.117-.239V26.03c0-.12 0-.239-.118-.239h-.234c-.586.358-1.289.478-1.875.478-.937 0-1.406-.478-1.406-1.433v-6.448h3.515c.118 0 .235-.12.235-.239v-2.627c0-.119-.117-.238-.235-.238H95.38zm15.116-.359c0-1.313.468-1.79 1.523-1.79.586 0 1.172 0 1.757.238h.118s.117-.12.117-.239v-2.507c0-.12 0-.239-.117-.239-.586-.239-1.406-.358-2.578-.358-2.812 0-4.218 1.671-4.218 4.657v.597h-1.524c-.117 0-.234.119-.234.238v2.627c0 .12.117.24.234.24h1.524v10.626c0 .12.117.239.234.239h3.046c.118 0 .118-.12.118-.24V18.389h2.929l4.335 10.627c-.468 1.075-.937 1.313-1.64 1.313a3.26 3.26 0 01-1.758-.477h-.117l-.117.12-1.055 2.268c0 .12 0 .358.118.358 1.054.597 1.992.836 3.163.836 2.227 0 3.516-1.075 4.57-3.94l5.273-13.851v-.239c0-.12-.117-.12-.234-.12h-3.164c-.117 0-.117.12-.117.24l-3.281 9.313-3.515-9.314c0-.119-.118-.238-.235-.238h-5.155v-.359zm-9.726.359c-.117 0-.234.119-.234.238v13.493c0 .12.117.239.234.239h3.047c.117 0 .117-.12.117-.24V15.523c0-.119 0-.238-.117-.238h-3.047zm-.703-3.94c0 1.193 1.055 2.268 2.226 2.268 1.172 0 2.11-1.075 2.11-2.269 0-1.194-.938-2.149-2.11-2.149-1.171 0-2.226.955-2.226 2.15zm28.708 8.238c1.171 0 2.226-.955 2.226-2.15 0-1.193-1.055-2.148-2.226-2.148-1.172 0-2.109.955-2.109 2.149s.937 2.15 2.109 2.15zm0-4.06c1.054 0 1.992.836 1.992 1.91 0 1.076-.938 1.911-1.992 1.911-1.055 0-1.875-.835-1.875-1.91s.82-1.91 1.875-1.91zm.468 2.15c.352-.12.586-.359.586-.717 0-.477-.468-.716-.937-.716h-.938v2.268h.469v-.716h.469l.469.716h.585l-.703-.835zm-.351-1.075c.234 0 .469.12.469.358 0 .239-.235.358-.469.358h-.469v-.716h.469z",fill:"#fff"})}))}},39:function(e,t,n){e.exports={container:"Loading_container__63HyO",text:"Loading_text__2GDNa"}},40:function(e,t,n){},5:function(e,t,n){e.exports={"login-container":"Login_login-container__1VF0R",logo:"Login_logo__21YoM","spot-input":"Login_spot-input__2LWEU","login-button":"Login_login-button__20575","demo-login-button":"Login_demo-login-button__1m00d","signup-button":"Login_signup-button__Jii9u","dont-have-acc":"Login_dont-have-acc__1O8CH","login-inner-container":"Login_login-inner-container__2hITY","have-an-acc":"Login_have-an-acc__1sM5Y","spot-link":"Login_spot-link__245nS",datepicker:"Login_datepicker__1DKDf","react-date-picker__wrapper":"Login_react-date-picker__wrapper__SsNXK","react-date-picker__inputGroup__input":"Login_react-date-picker__inputGroup__input__BOV8n","react-date-picker__button":"Login_react-date-picker__button__1YkQ6",subtitle:"Login_subtitle__1dQJw"}},58:function(e,t,n){e.exports={divider:"LoginDivider_divider__2g1kj"}},68:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.05fc84b6.chunk.js.map